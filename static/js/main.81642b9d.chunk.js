(this["webpackJsonpsanta-app"]=this["webpackJsonpsanta-app"]||[]).push([[0],{16:function(e,t,n){},26:function(e,t,n){},32:function(e,t){},56:function(e,t,n){"use strict";n.r(t);var a=n(3),s=n.n(a),r=n(19),c=n.n(r),o=(n(26),n.p,n(16),n(0));var i=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))},l=n(4),p=n(5),d=n(7),h=n(6),u=n(20),j=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={copied:!1,copytext:"Copy link"},e.showCopied=function(){e.setState({copytext:"Copied"}),setTimeout((function(){e.setState({copytext:"Copy link"})}),1e3)},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{className:"person",children:[Object(o.jsx)("div",{className:"person__number",children:this.props.number}),Object(o.jsx)("p",{className:"person__name",children:this.props.person}),!0===this.props.renderRemove?Object(o.jsx)("button",{className:"person__remove",onClick:function(t){e.props.handleDeletePerson(e.props.person)},children:"Remove"}):Object(o.jsx)(u.CopyToClipboard,{text:window.location.origin.toString()+"/?name="+this.props.person.split(" ").join("%20")+"&key="+this.props.encryptString(this.props.santa),onCopy:function(){return e.setState({copied:!0})},children:Object(o.jsx)("button",{className:"person__link",onClick:this.showCopied,children:this.state.copytext})})]})}}]),n}(a.Component),m=j,b=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).renderRemove=function(){return!(e.props.santas.length>0)},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(o.jsx)("div",{className:"people-container",children:this.props.people.length>0?this.props.people.map((function(t,n){return Object(o.jsx)(m,{person:t,santa:e.props.santas[n],number:n+1,handleDeletePerson:e.props.handleDeletePerson,renderRemove:e.renderRemove(),encryptString:e.props.encryptString,copyText:e.props.copyText},t)})):Object(o.jsx)("p",{className:"empty-message",children:"Add a person to get started!"})})}}]),n}(a.Component),f=b,O=n.p+"static/media/plus.f07c0b76.svg",v=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleAddPersonChild=function(t){t.preventDefault();var n=t.target.elements.name.value.trim();e.props.handleAddPersonParent(n),document.getElementById("name-form").reset()},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(o.jsx)("div",{className:"form-wrap",children:Object(o.jsxs)("form",{autoComplete:"off",onSubmit:this.handleAddPersonChild,id:"name-form",className:"form",children:[Object(o.jsx)("input",{type:"text",name:"name",className:"input",placeholder:"Enter a name..."}),Object(o.jsxs)("button",{type:"submit",className:"add",children:[Object(o.jsx)("img",{src:O,className:"add-icon",alt:"plus-icon"}),"Add"]})]})})}}]),n}(a.Component),y=v,x=n.p+"static/media/santa-hat.a7008033.svg",g=function(e){return Object(o.jsxs)("button",{className:"generate-button",onClick:e.handleGenerate,children:[Object(o.jsx)("img",{src:x,className:"santa-icon",alt:"santa-icon"}),"Generate Secret Santa"]})},S=n.p+"static/media/santa.85cb042e.svg",N=function(){return Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("a",{href:"/",children:Object(o.jsx)("img",{src:S,className:"header__image",alt:"santa"})}),Object(o.jsx)("h1",{children:"Secret Santa Generator"})]})},C=n.p+"static/media/present.712f0c1d.svg",_=function(e){return Object(o.jsx)("div",{className:"people-container",children:Object(o.jsxs)("div",{className:"note",children:[Object(o.jsxs)("h5",{className:"note__title",children:["Hi ",e.name.replace("%20"," "),","]}),Object(o.jsxs)("h5",{children:["you've been assigned ",Object(o.jsx)("span",{className:"note__santa",children:e.decryptHash(e.mykey)}),"."]}),Object(o.jsx)("img",{src:C,className:"note__image",alt:"present"}),Object(o.jsx)("h5",{children:"Good luck!"})]})})},P=function(){return Object(o.jsx)("footer",{className:"footer text-center"})},k=n(12),A=n.n(k),T=n(21),w=n.n(T),E=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleAddPersonParent=function(e){e=e.toLowerCase(),console.log(e),""===e?a.setState({hidden:!1,message:"Please enter a valid name!"}):-1!==a.state.people.indexOf(e)?a.setState({hidden:!1,message:"This person has already been added!"}):a.setState((function(t){return{hidden:!0,people:t.people.concat(e),santas:[]}}))},a.handleDeletePerson=function(e){a.setState((function(t){return{people:t.people.filter((function(t){return t!==e}))}}))},a.handleGenerate=function(){var e=a.state.people.slice(),t=a.shuffleArray(e);a.state.people.length<=2?a.setState({hidden:!1,message:"You need at least 3 people to generate Secret Santas!"}):a.setState((function(){return{hidden:!0,santas:t}}))},a.state={people:[],santas:[],copied:!1,hidden:!0,message:"",params:a.getSearchParameters()},a}return Object(p.a)(n,[{key:"encryptString",value:function(e){return A.a.encrypt(e,"123456789abcdkmr")}},{key:"decryptHash",value:function(e){return A.a.decrypt(e.toString(),"123456789abcdkmr").toString(w.a.enc.Utf8)}},{key:"transformToArray",value:function(e){for(var t={},n=e.split("&"),a=0;a<n.length;a++){var s=n[a].split("=");t[s[0]]=s[1]}return t}},{key:"getSearchParameters",value:function(){var e=window.location.search.substr(1);return null!==e&&""!==e?this.transformToArray(e):{}}},{key:"shuffleArray",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*t),a=e[t];e[t]=e[n],e[n]=a}return e}},{key:"render",value:function(){var e;return console.log("Env Key:",Object({NODE_ENV:"production",PUBLIC_URL:"/Santa-Gen",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ENCRYPT_KEY),e=Object(o.jsx)("p",{style:{color:"#d53743",fontSize:".75rem",textAlign:"center",marginTop:"-.75rem"},children:this.state.message}),void 0!==this.state.params.name?Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(N,{}),Object(o.jsx)(_,{name:this.state.params.name,mykey:this.state.params.key,decryptHash:this.decryptHash})]}):Object(o.jsxs)("div",{className:"body-wrap",children:[Object(o.jsxs)("div",{className:"container wrap",children:[Object(o.jsx)(N,{}),Object(o.jsx)(g,{handleGenerate:this.handleGenerate}),this.state.hidden?null:e,Object(o.jsx)(y,{handleAddPersonParent:this.handleAddPersonParent}),Object(o.jsx)(f,{people:this.state.people,santas:this.state.santas,handleDeletePerson:this.handleDeletePerson,encryptString:this.encryptString})]}),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(P,{})})]})}}]),n}(a.Component);c.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(E,{})}),document.getElementById("root")),i()}},[[56,1,2]]]);
//# sourceMappingURL=main.81642b9d.chunk.js.map